<div class="tasks-container">
  <span class="home-icon">
    <mat-icon class="home-icon__icon">house</mat-icon>
    <h2>My Tasks</h2>
  </span>

  <div class="expand-panel">
    <button mat-flat-button class="add-task-btn" (click)="toggleAddTask()">
      <mat-icon>add</mat-icon> Add Task
    </button>
  </div>

  <div *ngIf="isAddTaskOpen" class="task-input-container">
    <mat-form-field appearance="outline" class="task-input">
      <mat-label>Enter your task</mat-label>
      <input matInput [(ngModel)]="newTask" placeholder="Enter your task" />
    </mat-form-field>
    <button mat-raised-button class="save-task-btn" (click)="saveTask()">
      {{isEditMode ? 'Edit' : 'Save'}} Task
    </button>
  </div>

  <div class="tasks-list">
    <ul>
      <li *ngFor="let task of tasks; let i = index">
        <span>{{ task.text }}</span>
        <button mat-icon-button class="date-btn" (click)="toggleDatePicker(i)">
          <mat-icon>calendar_today</mat-icon>
        </button>

        <div *ngIf="task.isDatePickerVisible" class="date-picker-container">
          <input matInput type="date" [(ngModel)]="task.dueDate" (change)="updatePlannedTasks(i)" />
        </div>

        <button mat-icon-button class="star-btn" (click)="markAsImportant(i)">
          <mat-icon>star</mat-icon>
        </button>

        <button mat-icon-button class="edit-btn" (click)="editTask(task.id)">
          <mat-icon>edit</mat-icon>
        </button>

        <button mat-icon-button class="delete-btn" (click)="deleteTask(task.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </li>
    </ul>
  </div>
</div>
